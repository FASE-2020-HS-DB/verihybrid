<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.machineFile org.eventb.core.comment="&#10;   Notes: Time trigger design " org.eventb.core.configuration="org.eventb.core.fwd" org.eventb.core.generated="false" org.eventb.texttools.text_lastmodified="1602756693322" org.eventb.texttools.text_representation="machine M4_2_control_logic_time_trigger&#10;/*&#10;   Notes: Time trigger design */&#10; refines M4_1_control_logic_event_trigger  sees C4_control_logic&#10;&#10;variables T // continuous var temperature&#10;          now // continuous var time&#10;          s // system state&#10;          fa // predicted safe time series by the controller&#10;          ta&#10;          q // discrete state&#10;          t0 // initial condition: time&#10;          T0 // initial condition: temperature&#10;          trod // passed recover time for the rod&#10;&#10;&#10;invariants&#10;  @type_T T∈Rpos→R&#10;  @type_now now∈Rpos&#10;  @type_s s∈sysSTATE&#10;  @type_fa fa ∈ Rpos → R&#10;  @type_q q∈ctrlSTATE&#10;  @type_t0 t0∈Rpos&#10;  @type_T0 T0∈R&#10;  @type_trod trod ∈ Rpos&#10;  @inv_safe_switch s=RUN ∧ q=ONOFF ⇒ lt(trodMin, trod)&#10;  @inv_safe_T0 s=DECISION∧(q=OFFON∨q=ON)⇒ T0=Tmin&#10;  @inv_safe_trod s=DECISION∧(q=OFFON∨q=ON) ⇒ trod = now sub t0&#10;  @inv_safe_ON_T0 s=RUN ∧ q=ON ⇒ T0=Tmin&#10;  @inv_safe_ON_trod s=RUN ∧ q=ON ⇒ trod = now sub t0&#10;  @inv_safe_OFFON s=RUN∧q=OFFON⇒Toff(t0↦T0)(now plus tact) = Tmin&#10;  @inv1 s=DECISION∧(q=ONOFF∨q=OFF)⇒ T0=Ton(zero↦Tmin)((n mult deltaT) plus tact)&#10;  @inv2 s=RUN∧(q=ONOFF)⇒Ton(t0 ↦ T0)(now plus tact)=Ton(zero↦Tmin)((n mult deltaT) plus tact)&#10;  @inv3 s=RUN∧(q=OFF)⇒T0=Ton(zero↦Tmin)((n mult deltaT) plus tact)&#10;&#10;events&#10;  event INITIALISATION&#10;    then&#10;      @act1 T ≔  (λ t · t ∈ Rpos ∣ Tmin)   { zero plus tact ↦ Ton(zero↦Tmin)(zero plus tact)}&#10;      @act2 now ≔ zero&#10;      @act3 s ≔ DECISION&#10;      @act5 fa :∈ Rpos → R&#10;      @act6 q ≔ ON&#10;      @act7 t0≔zero&#10;      @act8 T0≔Tmin&#10;      @act9 ta≔deltaT&#10;      @act10 trod≔zero&#10;  end&#10;&#10;  event Plant_ON refines Plant_ON&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = ON&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 trod ≔ trod plus deltaT&#10;  end&#10;&#10;  event Plant_OFF refines Plant_OFF&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = OFF&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 trod ≔ zero&#10;  end&#10;&#10;  event Plant_ONOFF refines Plant_ONOFF&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = ONOFF&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 t0 ≔ now plus tact // shifting initial condition&#10;      @act5 T0 ≔ Ton(t0↦T0)(now plus tact) // shifting initial condition&#10;      @act6 trod ≔ zero&#10;  end&#10;&#10;  event Plant_OFFON refines Plant_OFFON&#10;    where&#10;      @grd1 s = RUN&#10;      @grd2 q = OFFON&#10;    then&#10;      @act1 now ≔ now plus deltaT&#10;      @act2 T ≔ (T   (lopen(now)◁ fa))&#10;      @act3 s ≔ DECISION&#10;      @act4 t0 ≔ now plus tact // shifting initial condition&#10;      @act5 T0 ≔ Toff(t0↦T0)(now plus tact) // shifting initial condition&#10;      @act6 trod ≔  deltaT sub tact&#10;  end&#10;&#10;  event Ctrl_ON_safe refines Ctrl_ON_safe&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = ON ∨ q = OFFON&#10;      @grd3 leq(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)&#10;    with&#10;      @fx fx = Ton(t0↦T0)&#10;      @tx tx = deltaT&#10;      @PREDICTION PREDICTION = Ton(t0↦T0)((now plus deltaT) plus tact) sub T(now)&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ Ton(t0↦T0)&#10;      @act3 q ≔ ON&#10;  end&#10;&#10;  event Ctrl_ON_unsafe refines Ctrl_ON_unsafe&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = ON ∨ q = OFFON&#10;      @grd3 gt(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)&#10;    with&#10;      @fx fx = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))&#10;      @tx tx = deltaT&#10;      @PREDICTION PREDICTION = Ton(t0↦T0)((now plus deltaT) plus tact) sub T(now)&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))&#10;      @act3 q ≔ ONOFF&#10;  end&#10;&#10;  event Ctrl_OFF_safe // Case 3: OFF or ONOFF mode, Toff(now+deltaT+tact) &gt;= Tmin, STAY OFF&#10;  refines Ctrl_OFF_safe&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = OFF ∨ q = ONOFF&#10;      @grd3 leq(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))&#10;    with&#10;      @fx fx = Toff(t0↦T0)&#10;      @tx tx = deltaT&#10;      @PREDICTION PREDICTION = Toff(t0↦T0)((now plus deltaT) plus tact) sub T(now)&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ Toff(t0↦T0)&#10;      @act3 q ≔ OFF&#10;  end&#10;&#10;  event Ctrl_OFF_unsafe // Case 4: OFF or ONOFF mode, Toff(now+deltaT+tact) &lt; Tmin, SWITCH ON&#10;  refines Ctrl_OFF_unsafe&#10;    where&#10;      @grd1 s = DECISION&#10;      @grd2 q = OFF ∨ q = ONOFF&#10;      @grd3 gt(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))&#10;    with&#10;      @fx fx = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))&#10;      @tx tx = deltaT&#10;      @PREDICTION PREDICTION = Toff(t0↦T0)((now plus deltaT) plus tact) sub T(now)&#10;    then&#10;      @act1 s ≔ RUN&#10;      @act2 fa ≔ Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))&#10;      @act3 q ≔ OFFON&#10;  end&#10;end&#10;" version="5">
<org.eventb.core.refinesMachine name="_8Y-owOOuEeqGV8L4J4n50w" org.eventb.core.target="M4_1_control_logic_event_trigger"/>
<org.eventb.core.seesContext name="_ynkfYNMKEembo_88jyb-4Q" org.eventb.core.target="C4_control_logic"/>
<org.eventb.core.event name="'" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="INITIALISATION">
<org.eventb.core.action name="_v2k-ctMKEembo_88jyb-4Q" org.eventb.core.assignment="T ≔  (λ t · t ∈ Rpos ∣ Tmin)   { zero plus tact ↦ Ton(zero↦Tmin)(zero plus tact)}" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_v2k-c9MKEembo_88jyb-4Q" org.eventb.core.assignment="now ≔ zero" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2k-dNMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_v2k-dtMKEembo_88jyb-4Q" org.eventb.core.assignment="fa :∈ Rpos → R" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
<org.eventb.core.action name="_v2k-d9MKEembo_88jyb-4Q" org.eventb.core.assignment="q ≔ ON" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
<org.eventb.core.action name="_v2llgNMKEembo_88jyb-4Q" org.eventb.core.assignment="t0≔zero" org.eventb.core.generated="false" org.eventb.core.label="act7"/>
<org.eventb.core.action name="_v2llgdMKEembo_88jyb-4Q" org.eventb.core.assignment="T0≔Tmin" org.eventb.core.generated="false" org.eventb.core.label="act8"/>
<org.eventb.core.action name="_IKHK8ADvEeufnOcimimBrA" org.eventb.core.assignment="ta≔deltaT" org.eventb.core.generated="false" org.eventb.core.label="act9"/>
<org.eventb.core.action name="_v2llgdMKEembo_88jyb-4R" org.eventb.core.assignment="trod≔zero" org.eventb.core.generated="false" org.eventb.core.label="act10"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_v2llgtMKEembo_88jyb-4Q" org.eventb.core.comment="continuous var temperature" org.eventb.core.generated="false" org.eventb.core.identifier="T"/>
<org.eventb.core.variable name="_v2llg9MKEembo_88jyb-4Q" org.eventb.core.comment="continuous var time" org.eventb.core.generated="false" org.eventb.core.identifier="now"/>
<org.eventb.core.variable name="_v2llhNMKEembo_88jyb-4Q" org.eventb.core.comment="system state" org.eventb.core.generated="false" org.eventb.core.identifier="s"/>
<org.eventb.core.variable name="_v2llhtMKEembo_88jyb-4Q" org.eventb.core.comment="predicted safe time series by the controller" org.eventb.core.generated="false" org.eventb.core.identifier="fa"/>
<org.eventb.core.variable name="_yzbnIAcWEeur05FoR2eYiB" org.eventb.core.generated="false" org.eventb.core.identifier="ta"/>
<org.eventb.core.variable name="_v2llh9MKEembo_88jyb-4Q" org.eventb.core.comment="discrete state" org.eventb.core.generated="false" org.eventb.core.identifier="q"/>
<org.eventb.core.variable name="_v2lliNMKEembo_88jyb-4Q" org.eventb.core.comment="initial condition: time" org.eventb.core.generated="false" org.eventb.core.identifier="t0"/>
<org.eventb.core.variable name="_v2llidMKEembo_88jyb-4Q" org.eventb.core.comment="initial condition: temperature" org.eventb.core.generated="false" org.eventb.core.identifier="T0"/>
<org.eventb.core.invariant name="_v2llitMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_T" org.eventb.core.predicate="T∈Rpos→R"/>
<org.eventb.core.invariant name="_v2lli9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_now" org.eventb.core.predicate="now∈Rpos"/>
<org.eventb.core.invariant name="_v2lljNMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_s" org.eventb.core.predicate="s∈sysSTATE"/>
<org.eventb.core.invariant name="_v2llj9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_fa" org.eventb.core.predicate="fa ∈ Rpos → R"/>
<org.eventb.core.invariant name="_v2mMkNMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_q" org.eventb.core.predicate="q∈ctrlSTATE"/>
<org.eventb.core.invariant name="_v2mMkdMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_t0" org.eventb.core.predicate="t0∈Rpos"/>
<org.eventb.core.invariant name="_v2mMktMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="type_T0" org.eventb.core.predicate="T0∈R"/>
<org.eventb.core.event name="_v2mMmNMKEembo_88jyb-4Q" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_ON">
<org.eventb.core.refinesEvent name="_IKIZEADvEeufnOcimimBrA" org.eventb.core.target="Plant_ON"/>
<org.eventb.core.guard name="_v2mMmtMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_v2mMm9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON"/>
<org.eventb.core.action name="_v2mMnNMKEembo_88jyb-4Q" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_v2mMndMKEembo_88jyb-4Q" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2mMntMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_v2naudMKEembo_88jyb-4Q" org.eventb.core.assignment="trod ≔ trod plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
</org.eventb.core.event>
<org.eventb.core.event name="_v2mzoNMKEembo_88jyb-4Q" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_OFF">
<org.eventb.core.refinesEvent name="_IKJAIADvEeufnOcimimBrA" org.eventb.core.target="Plant_OFF"/>
<org.eventb.core.guard name="_v2mzotMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_v2mzo9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF"/>
<org.eventb.core.action name="_v2mzpNMKEembo_88jyb-4Q" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_v2mzpdMKEembo_88jyb-4Q" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2mzptMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_v2oBy9MKEembo_88jyb-4Q" org.eventb.core.assignment="trod ≔ zero" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
</org.eventb.core.event>
<org.eventb.core.event name="_ynkfYNMKEembo_88jyb-4S" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_ONOFF">
<org.eventb.core.refinesEvent name="_IKJnMADvEeufnOcimimBrA" org.eventb.core.target="Plant_ONOFF"/>
<org.eventb.core.guard name="_v2mzqdMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_v2mzqtMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ONOFF"/>
<org.eventb.core.action name="_v2mzrtMKEembo_88jyb-4Q" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_v2mzr9MKEembo_88jyb-4Q" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2mzsNMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_ihX4cAcXEeur05FoR2eYiA" org.eventb.core.assignment="t0 ≔ now plus tact" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
<org.eventb.core.action name="_v2nautMKEembo_88jyb-4Q" org.eventb.core.assignment="T0 ≔ Ton(t0↦T0)(now plus tact)" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
<org.eventb.core.action name="_ihX4cQcXEeur05FoR2eYiA" org.eventb.core.assignment="trod ≔ zero" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
</org.eventb.core.event>
<org.eventb.core.event name="_ynkfYNMKEembo_88jyb-4R" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Plant_OFFON">
<org.eventb.core.refinesEvent name="_IKKOQADvEeufnOcimimBrA" org.eventb.core.target="Plant_OFFON"/>
<org.eventb.core.guard name="_v2nasdMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = RUN"/>
<org.eventb.core.guard name="_v2nastMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFFON"/>
<org.eventb.core.action name="_v2nattMKEembo_88jyb-4Q" org.eventb.core.assignment="now ≔ now plus deltaT" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_v2nat9MKEembo_88jyb-4Q" org.eventb.core.assignment="T ≔ (T   (lopen(now)◁ fa))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2nauNMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ DECISION" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.action name="_ihYfgAcXEeur05FoR2eYiA" org.eventb.core.assignment="t0 ≔ now plus tact" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act4"/>
<org.eventb.core.action name="_v2oBzNMKEembo_88jyb-4Q" org.eventb.core.assignment="T0 ≔ Toff(t0↦T0)(now plus tact)" org.eventb.core.comment="shifting initial condition" org.eventb.core.generated="false" org.eventb.core.label="act5"/>
<org.eventb.core.action name="_ihZGkAcXEeur05FoR2eYiA" org.eventb.core.assignment="trod ≔  deltaT sub tact" org.eventb.core.generated="false" org.eventb.core.label="act6"/>
</org.eventb.core.event>
<org.eventb.core.event name="_v2mzp9MKEembo_88jyb-4Q" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_ON_safe">
<org.eventb.core.refinesEvent name="_IKK1UADvEeufnOcimimBrA" org.eventb.core.target="Ctrl_ON_safe"/>
<org.eventb.core.guard name="_v2navtMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_v2nav9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON ∨ q = OFFON"/>
<org.eventb.core.guard name="_v2mzq9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="leq(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)"/>
<org.eventb.core.action name="_v2naw9MKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_IKMDcADvEeufnOcimimBrA" org.eventb.core.assignment="fa ≔ Ton(t0↦T0)" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2oBwNMKEembo_88jyb-4Q" org.eventb.core.assignment="q ≔ ON" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.witness name="_IKLcYADvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="fx" org.eventb.core.predicate="fx = Ton(t0↦T0)"/>
<org.eventb.core.witness name="_IKLcYQDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="tx" org.eventb.core.predicate="tx = deltaT"/>
<org.eventb.core.witness name="_IKLcYgDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="PREDICTION" org.eventb.core.predicate="PREDICTION = Ton(t0↦T0)((now plus deltaT) plus tact) sub T(now)"/>
</org.eventb.core.event>
<org.eventb.core.event name="_NlsHINMVEembo_88jyb-4Q" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_ON_unsafe">
<org.eventb.core.refinesEvent name="_IKLcYwDvEeufnOcimimBrA" org.eventb.core.target="Ctrl_ON_unsafe"/>
<org.eventb.core.guard name="_WeDc4NM_Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_WeED8NM_Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = ON ∨ q = OFFON"/>
<org.eventb.core.guard name="_v2nas9MKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="gt(Ton(t0↦T0)((now plus deltaT) plus tact), Tmax)"/>
<org.eventb.core.action name="_v2oByNMKEembo_88jyb-4Q" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_GS8EMAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_v2oBytMKEembo_88jyb-4Q" org.eventb.core.assignment="q ≔ ONOFF" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.witness name="_IKMDcQDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="fx" org.eventb.core.predicate="fx = Toff(now plus tact↦Ton(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Ton(t0↦T0))"/>
<org.eventb.core.witness name="_IKMDcgDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="tx" org.eventb.core.predicate="tx = deltaT"/>
<org.eventb.core.witness name="_IKMDcwDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="PREDICTION" org.eventb.core.predicate="PREDICTION = Ton(t0↦T0)((now plus deltaT) plus tact) sub T(now)"/>
</org.eventb.core.event>
<org.eventb.core.event name="_v2navNMKEembo_88jyb-4Q" org.eventb.core.comment="Case 3: OFF or ONOFF mode, Toff(now+deltaT+tact) &gt;= Tmin, STAY OFF" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_OFF_safe">
<org.eventb.core.refinesEvent name="_IKMqgADvEeufnOcimimBrA" org.eventb.core.target="Ctrl_OFF_safe"/>
<org.eventb.core.guard name="_n0FUkNM_Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_n0F7oNM_Eemjpt_4877rBQ" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF ∨ q = ONOFF"/>
<org.eventb.core.guard name="_v2nawNMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="leq(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))"/>
<org.eventb.core.action name="_WeF5INM_Eemjpt_4877rBQ" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_GS9SUAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ Toff(t0↦T0)" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_WeC10NM_Eemjpt_4877rBQ" org.eventb.core.assignment="q ≔ OFF" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.witness name="_IKMqgQDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="fx" org.eventb.core.predicate="fx = Toff(t0↦T0)"/>
<org.eventb.core.witness name="_IKMqggDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="tx" org.eventb.core.predicate="tx = deltaT"/>
<org.eventb.core.witness name="_IKNRkADvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="PREDICTION" org.eventb.core.predicate="PREDICTION = Toff(t0↦T0)((now plus deltaT) plus tact) sub T(now)"/>
</org.eventb.core.event>
<org.eventb.core.event name="_v2oBwdMKEembo_88jyb-4Q" org.eventb.core.comment="Case 4: OFF or ONOFF mode, Toff(now+deltaT+tact) &lt; Tmin, SWITCH ON" org.eventb.core.convergence="0" org.eventb.core.extended="false" org.eventb.core.generated="false" org.eventb.core.label="Ctrl_OFF_unsafe">
<org.eventb.core.refinesEvent name="_IKNRkQDvEeufnOcimimBrA" org.eventb.core.target="Ctrl_OFF_unsafe"/>
<org.eventb.core.guard name="_CnffcQMqEeu8u6cRqHVE-w" org.eventb.core.generated="false" org.eventb.core.label="grd1" org.eventb.core.predicate="s = DECISION"/>
<org.eventb.core.guard name="_v2oBxNMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd2" org.eventb.core.predicate="q = OFF ∨ q = ONOFF"/>
<org.eventb.core.guard name="_v2oBxdMKEembo_88jyb-4Q" org.eventb.core.generated="false" org.eventb.core.label="grd3" org.eventb.core.predicate="gt(Tmin, Toff(t0↦T0)((now plus deltaT) plus tact))"/>
<org.eventb.core.action name="_n0IX4NM_Eemjpt_4877rBQ" org.eventb.core.assignment="s ≔ RUN" org.eventb.core.generated="false" org.eventb.core.label="act1"/>
<org.eventb.core.action name="_GS_HgAMvEeu8u6cRqHVE-w" org.eventb.core.assignment="fa ≔ Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))" org.eventb.core.generated="false" org.eventb.core.label="act2"/>
<org.eventb.core.action name="_n0I-8NM_Eemjpt_4877rBQ" org.eventb.core.assignment="q ≔ OFFON" org.eventb.core.generated="false" org.eventb.core.label="act3"/>
<org.eventb.core.witness name="_IKN4oADvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="fx" org.eventb.core.predicate="fx = Ton(now plus tact↦Toff(t0↦T0)(now plus tact))  (openclosed(now, now plus tact)◁ Toff(t0↦T0))"/>
<org.eventb.core.witness name="_IKN4oQDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="tx" org.eventb.core.predicate="tx = deltaT"/>
<org.eventb.core.witness name="_IKN4ogDvEeufnOcimimBrA" org.eventb.core.generated="false" org.eventb.core.label="PREDICTION" org.eventb.core.predicate="PREDICTION = Toff(t0↦T0)((now plus deltaT) plus tact) sub T(now)"/>
</org.eventb.core.event>
<org.eventb.core.variable name="_yzaZAAcWEeur05FoR2eYiA" org.eventb.core.comment="passed recover time for the rod" org.eventb.core.generated="false" org.eventb.core.identifier="trod"/>
<org.eventb.core.invariant name="_yzaZAQcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="type_trod" org.eventb.core.predicate="trod ∈ Rpos"/>
<org.eventb.core.invariant name="_yzaZAgcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_switch" org.eventb.core.predicate="s=RUN ∧ q=ONOFF ⇒ lt(trodMin, trod)"/>
<org.eventb.core.invariant name="_yzaZAwcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_T0" org.eventb.core.predicate="s=DECISION∧(q=OFFON∨q=ON)⇒ T0=Tmin"/>
<org.eventb.core.invariant name="_yzbAEAcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_trod" org.eventb.core.predicate="s=DECISION∧(q=OFFON∨q=ON) ⇒ trod = now sub t0"/>
<org.eventb.core.invariant name="_yzbAEQcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_ON_T0" org.eventb.core.predicate="s=RUN ∧ q=ON ⇒ T0=Tmin"/>
<org.eventb.core.invariant name="_yzbAEgcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_ON_trod" org.eventb.core.predicate="s=RUN ∧ q=ON ⇒ trod = now sub t0"/>
<org.eventb.core.invariant name="_yzbAEwcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv_safe_OFFON" org.eventb.core.predicate="s=RUN∧q=OFFON⇒Toff(t0↦T0)(now plus tact) = Tmin"/>
<org.eventb.core.invariant name="_yzbAFAcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv1" org.eventb.core.predicate="s=DECISION∧(q=ONOFF∨q=OFF)⇒ T0=Ton(zero↦Tmin)((n mult deltaT) plus tact)"/>
<org.eventb.core.invariant name="_yzbAFQcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv2" org.eventb.core.predicate="s=RUN∧(q=ONOFF)⇒Ton(t0 ↦ T0)(now plus tact)=Ton(zero↦Tmin)((n mult deltaT) plus tact)"/>
<org.eventb.core.invariant name="_yzbnIAcWEeur05FoR2eYiA" org.eventb.core.generated="false" org.eventb.core.label="inv3" org.eventb.core.predicate="s=RUN∧(q=OFF)⇒T0=Ton(zero↦Tmin)((n mult deltaT) plus tact)"/>
</org.eventb.core.machineFile>
